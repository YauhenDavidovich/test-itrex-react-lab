(this["webpackJsonptest-irex-react-lab"]=this["webpackJsonptest-irex-react-lab"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(6),s=n.n(r),o=(n(20),n(21),n(3)),a=n(15),l=n(12),j=n.n(l),u=n(13);function d(){return(d=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,console.error(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var b=function(){return d.apply(this,arguments)},O=[],h=function(){return function(e){b().then((function(t){e({type:"SET-TABLE",profiles:t})}))}},p=n(5),x=n(2),f=n(0),v=function(e){var t=Math.ceil(e.pages/e.pageLimit),n=function(){e.currentPage>0&&e.setPage(e.currentPage-1)},i=function(){e.currentPage<t-1&&e.setPage(e.currentPage+1)};return Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("a",{onClick:function(){return e.setPage(0)},children:"\xab"},"first-page"),Object(f.jsx)("a",{onClick:n,children:"\u2190"},"prev-page")]}),function(){for(var e=[],n=0;n<t;n++)e.push(n);return e}().map((function(t){return Object(f.jsx)("a",{onClick:function(){return e.setPage(t)},style:t===e.currentPage?{color:"lightBlue"}:null,children:t},t)})),Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("a",{onClick:i,children:"\u2192"},"next-page"),Object(f.jsx)("a",{onClick:function(){return e.setPage(t-1)},children:"\xbb"},"last-page")]})]})},g=function(e){var t=Object(c.useState)(0),n=Object(x.a)(t,2),i=n[0],r=n[1];return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%"},children:[Object(f.jsxs)("table",{children:[e.header,function(t){var n=i*e.pageLimit;return t.slice(n,n+e.pageLimit)}(e.profiles).map((function(t){return e.renderRow(t)}))]}),Object(f.jsx)(v,{pageLimit:e.pageLimit,pages:e.profiles.length,currentPage:i,setPage:r})]})},m=function(e){return Object(f.jsx)("div",{className:"search",children:Object(f.jsx)("input",{placeholder:"Search by name",type:"text",onChange:function(t){return e.setSearchTerm(t.target.value)}})})},N=function(e){return Object(f.jsxs)("div",{className:"filter",children:["Filter by state:",Object(f.jsxs)("select",{onChange:function(t){return e.handleFilterChange(t.target.value)},children:[Object(f.jsx)("option",{value:"",children:"none"}),Object(f.jsx)("option",{value:"AK",children:"AK"}),Object(f.jsx)("option",{value:"AL",children:"AL"}),Object(f.jsx)("option",{value:"AR",children:"AR"}),Object(f.jsx)("option",{value:"AZ",children:"AZ"}),Object(f.jsx)("option",{value:"CA",children:"CA"}),Object(f.jsx)("option",{value:"CO",children:"CO"}),Object(f.jsx)("option",{value:"CT",children:"CT"}),Object(f.jsx)("option",{value:"DE",children:"DE"}),Object(f.jsx)("option",{value:"FL",children:"FL"}),Object(f.jsx)("option",{value:"GA",children:"GA"}),Object(f.jsx)("option",{value:"HI",children:"HI"}),Object(f.jsx)("option",{value:"IA",children:"IA"}),Object(f.jsx)("option",{value:"ID",children:"ID"}),Object(f.jsx)("option",{value:"IL",children:"IL"}),Object(f.jsx)("option",{value:"IN",children:"IN"}),Object(f.jsx)("option",{value:"KS",children:"KS"}),Object(f.jsx)("option",{value:"KY",children:"KY"}),Object(f.jsx)("option",{value:"LA",children:"LA"}),Object(f.jsx)("option",{value:"MA",children:"MA"}),Object(f.jsx)("option",{value:"MD",children:"MD"}),Object(f.jsx)("option",{value:"ME",children:"ME"}),Object(f.jsx)("option",{value:"MI",children:"MI"}),Object(f.jsx)("option",{value:"MN",children:"MN"}),Object(f.jsx)("option",{value:"MO",children:"MO"}),Object(f.jsx)("option",{value:"MS",children:"MS"}),Object(f.jsx)("option",{value:"MT",children:"MT"}),Object(f.jsx)("option",{value:"NC",children:"NC"}),Object(f.jsx)("option",{value:"ND",children:"ND"}),Object(f.jsx)("option",{value:"NE",children:"NE"}),Object(f.jsx)("option",{value:"NH",children:"NH"}),Object(f.jsx)("option",{value:"NJ",children:"NJ"}),Object(f.jsx)("option",{value:"NM",children:"NM"}),Object(f.jsx)("option",{value:"NV",children:"NV"}),Object(f.jsx)("option",{value:"NY",children:"NY"}),Object(f.jsx)("option",{value:"OH",children:"OH"}),Object(f.jsx)("option",{value:"OK",children:"OK"}),Object(f.jsx)("option",{value:"OR",children:"OR"}),Object(f.jsx)("option",{value:"PA",children:"PA"}),Object(f.jsx)("option",{value:"RI",children:"RI"}),Object(f.jsx)("option",{value:"SC",children:"SC"}),Object(f.jsx)("option",{value:"SD",children:"SD"}),Object(f.jsx)("option",{value:"TN",children:"TN"}),Object(f.jsx)("option",{value:"TX",children:"TX"}),Object(f.jsx)("option",{value:"UT",children:"UT"}),Object(f.jsx)("option",{value:"VA",children:"VA"}),Object(f.jsx)("option",{value:"VT",children:"VT"}),Object(f.jsx)("option",{value:"WA",children:"WA"}),Object(f.jsx)("option",{value:"WI",children:"WI"}),Object(f.jsx)("option",{value:"WV",children:"WV"}),Object(f.jsx)("option",{value:"WY",children:"WY"})]})]})},C=n(30),y=function(e){return e.row?Object(f.jsxs)("div",{className:"Profile",children:[Object(f.jsx)("h3",{children:"Profile info:"}),Object(f.jsxs)("div",{children:["Selected profile: ",e.row.firstName," ",e.row.lastName]}),Object(f.jsxs)("div",{children:["Description: ",e.row.description]}),Object(f.jsxs)("div",{children:["Adress: ",e.row.adress.streetAddress]}),Object(f.jsxs)("div",{children:["City: ",e.row.adress.city]}),Object(f.jsxs)("div",{children:["State: ",e.row.adress.state]}),Object(f.jsxs)("div",{children:["Index: ",e.row.adress.zip]})]}):Object(f.jsx)(f.Fragment,{})},w=function(){var e=Object(C.a)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.profiles})),i=Object(c.useState)(""),r=Object(x.a)(i,2),s=r[0],a=r[1],l=Object(c.useState)(),j=Object(x.a)(l,2),u=j[0],d=j[1],b=Object(c.useState)(""),O=Object(x.a)(b,2),v=O[0],w=O[1],A=function(e){var t=Object(c.useState)(null),n=Object(x.a)(t,2),i=n[0],r=n[1];return{items:Object(c.useMemo)((function(){var t=Object(p.a)(e);return null!==i&&("adress"===i.key&&t.sort((function(e,t){return e.adress.state<t.adress.state?"ascending"===i.direction?-1:1:e.adress.state>t.adress.state?"ascending"===i.direction?1:-1:0})),t.sort((function(e,t){return e[i.key]<t[i.key]?"ascending"===i.direction?-1:1:e[i.key]>t[i.key]?"ascending"===i.direction?1:-1:0}))),t}),[e,i]),requestSort:function(e){var t="ascending";i&&i.key===e&&"ascending"===i.direction&&(t="descending"),r({key:e,direction:t})},sortConfig:i}}(n),S=A.items,M=A.requestSort,L=A.sortConfig,I=Object(c.useMemo)((function(){var e=Object(p.a)(S);return e=s?e.filter((function(e){return e.firstName.toLowerCase().includes(s.toLowerCase())})):e}),[S,s,w]),T=Object(c.useMemo)((function(){var e=Object(p.a)(I);return e=v.length>0?e.filter((function(e){return e.adress.state.includes(v)})):e}),[I,v,w]),k=Object(c.useCallback)((function(e){d(e)}),[]);Object(c.useEffect)((function(){t(h())}),[]);var P=[{id:"id",name:"id"},{id:"firstName",name:"First Name"},{id:"lastName",name:"Last Name"},{id:"email",name:"Email"},{id:"adress",name:"State"}],D=function(e){if(L)return L.key===e?L.direction:void 0},E=Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:P.map((function(e){return Object(f.jsxs)("th",{children:[e.name,Object(f.jsx)("button",{type:"button",onClick:function(){return M(e.id)},className:D(e.id)})]})}))})});return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",maxWidth:"1024px",width:"100%",margin:"0 auto"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(f.jsx)(N,{handleFilterChange:w}),Object(f.jsx)(m,{setSearchTerm:a})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(f.jsx)(g,{renderRow:function(t){return function(t){return Object(f.jsx)("tbody",{children:Object(f.jsx)("tr",{children:P.map((function(e){return Object(f.jsx)("td",{onClick:function(){return k(t)},children:"adress"===e.id?t.adress.state:t[e.id]})}))},e)})}(t)},profiles:T,pageLimit:20,header:E}),Object(f.jsx)(y,{row:u})]})]})},A=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(h())}),[e]),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(w,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))},M=n(8),L=n(14),I=Object(M.b)({profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return"SET-TABLE"===t.type?t.profiles.map((function(e){return Object(a.a)({},e)})):e}}),T=Object(M.c)(I,Object(M.a)(L.a));window.store=T,s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(o.a,{store:T,children:Object(f.jsx)(A,{})})}),document.getElementById("root")),S()}},[[28,1,2]]]);
//# sourceMappingURL=main.f6a03ba4.chunk.js.map